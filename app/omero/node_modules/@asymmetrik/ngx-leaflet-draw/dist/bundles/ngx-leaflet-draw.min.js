/*! @asymmetrik/ngx-leaflet-draw - 2.7.1 - Copyright Asymmetrik, Ltd. 2007-2017 - All Rights Reserved. + */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@asymmetrik/ngx-leaflet"),require("leaflet"),require("leaflet-draw")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@asymmetrik/ngx-leaflet","leaflet","leaflet-draw"],t):t(e.ngxLeafletDraw={},e.ng.core,e.ngxLeaflet,e.L)}(this,function(e,t,r,i){"use strict";var o=/** @class */function(){function e(e){this.drawOptions=null,this.leafletDirective=new r.LeafletDirectiveWrapper(e)}return e.prototype.ngOnInit=function(){var e=this;this.leafletDirective.init(),
// Initialize the draw options (in case they weren't provided)
this.drawOptions=this.initializeDrawOptions(this.drawOptions),
// Create the control
this.drawControl=new i.Control.Draw(this.drawOptions),
// Pull out the feature group for convenience
this.featureGroup=this.drawOptions.edit.featureGroup,
// Add the control to the map
this.leafletDirective.getMap().addControl(this.drawControl),
// Register the main handler for events coming from the draw plugin
this.leafletDirective.getMap().on(i.Draw.Event.CREATED,function(t){var r=t.layer;e.featureGroup.addLayer(r)})},e.prototype.ngOnDestroy=function(){this.leafletDirective.getMap().removeControl(this.drawControl)},e.prototype.ngOnChanges=function(e){
// No changes being handled currently
},e.prototype.initializeDrawOptions=function(e){
// Ensure the options have a featureGroup
return null==e&&(e={edit:null}),null==e.edit&&(e.edit={featureGroup:null}),null==e.edit.featureGroup&&(
// No feature group was provided, so we're going to add it ourselves
e.edit.featureGroup=i.featureGroup(),this.leafletDirective.getMap().addLayer(e.edit.featureGroup)),e},e.decorators=[{type:t.Directive,args:[{selector:"[leafletDraw]"}]}],
/** @nocollapse */
e.ctorParameters=function(){return[{type:r.LeafletDirective}]},e.propDecorators={drawOptions:[{type:t.Input,args:["leafletDrawOptions"]}]},e}(),n=/** @class */function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.decorators=[{type:t.NgModule,args:[{imports:[r.LeafletModule],exports:[o],declarations:[o]}]}],
/** @nocollapse */
e.ctorParameters=function(){return[]},e}();e.LeafletDrawModule=n,e.LeafletDrawDirective=o,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-leaflet-draw.js.map